@using FirstApp.Models;
@page "/nasa-apod" 
@using FirstApp.Clients;
@inject NasaClient NasaClient;
@using FirstApp.Shared.Components;

<pagetitle>
    Nasa Apod
</pagetitle>

<p >Enter date for NasaApod record:</p>
<input placeholder = "Check Date" @bind = "newDate"/> <!--bind method to variable newTodo-->
<button @onclick="Add">Add</button>

<Header title="@nasaResponse.title" subTitle="@nasaResponse.date" description="@nasaResponse.explanation" />
<br>
<NasaImageSection imgUrl="@nasaResponse.url" hdUrl = "@nasaResponse.hdurl" copyright="@nasaResponse.copyright" />


@code {
    private NasaResponse? nasaResponse = null;
    protected override async Task OnInitializedAsync(){
        nasaResponse = await NasaClient.GetNasa();
    }
    private List<TodoItem> todoList = new();
    private string? newDate;

        <!--Custom method for button Add-->
    private void Add(){
        if(!string.IsNullOrWhiteSpace(newDate)){
            todoList.Add(new TodoItem {Item = newDate});
            newDate = string.Empty;
        }
    }
}
